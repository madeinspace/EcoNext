{"ast":null,"code":"import _Map from \"@babel/runtime-corejs2/core-js/map\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _parseFloat from \"@babel/runtime-corejs2/core-js/parse-float\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _ from 'lodash'; // import GatsbyPages from './GatsbyPages';\n\nimport numeral from 'numeral';\nexport const getClassNames = (styles, classes) => {\n  if (_.isEmpty(classes)) {\n    return;\n  }\n\n  const classArr = _.split(classes, ' ');\n\n  let classNames = '';\n\n  _.forEach(classArr, classN => {\n    classNames += _.isUndefined(styles[classN]) ? ' ' + classN : ' ' + styles[classN];\n  });\n\n  return classNames;\n};\nexport const stripEndQuotes = s => {\n  let t = s.length;\n  if (s.charAt(0) == '\"') s = s.substring(1, t--);\n  if (s.charAt(--t) == '\"') s = s.substring(0, t);\n  return s;\n};\nexport const detectIE = () => {\n  const ua = window.navigator.userAgent; // Test values; Uncomment to check result …\n  // IE 10\n  // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\n  // IE 11\n  // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\n  // Edge 12 (Spartan)\n  // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\n  // Edge 13\n  // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\n\n  const msie = ua.indexOf('MSIE ');\n\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    return _parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n  }\n\n  const trident = ua.indexOf('Trident/');\n\n  if (trident > 0) {\n    // IE 11 => return version number\n    const rv = ua.indexOf('rv:');\n    return _parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n  }\n\n  const edge = ua.indexOf('Edge/');\n\n  if (edge > 0) {\n    // Edge (IE 12+) => return version number\n    return _parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n  } // other browser\n\n\n  return 0;\n};\nexport const getHost = () => {\n  const domain = document.location.hostname.toLowerCase();\n  const parts = domain.split('.');\n\n  if (parts[0] === 'www') {\n    parts.shift();\n  }\n\n  parts.shift();\n  const result = '.' + parts.join('.');\n  return result;\n};\nexport const getHashParams = () => {\n  const hashParams = {};\n  let e = undefined;\n  const a = /\\+/g; // Regex for replacing addition symbol with a space\n\n  const r = /([^&;=]+)=?([^&;]*)/g;\n\n  const d = s => decodeURIComponent(s.replace(a, ' '));\n\n  const q = window.location.hash.substring(1);\n\n  while (e = r.exec(q)) {\n    hashParams[d(e[1])] = d(e[2]);\n  }\n\n  return hashParams;\n};\nexport const buildQueryStringWithObjectKeys = (obj, jointer) => _.map(_.keys(obj), key => key + '=' + obj[key]).join(jointer);\nexport const getParameterByName = (name, url = window.location.href) => {\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\n  const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\n  const results = regex.exec(url);\n\n  if (!results) {\n    return null;\n  }\n\n  if (!results[2]) {\n    return '';\n  }\n\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n};\nexport const insertArrayAt = (array, index, arrayToInsert) => {\n  Array.prototype.splice.apply(array, [index, 0].concat(arrayToInsert));\n  return array;\n};\nexport const deserialiseQueryString = query => {\n  return _.chain(query).replace('?', '') // width=727&height=647&layers=1,4&zoom=14&lat=-36.641495731141354&lon=146.76125049591067&mapstyle=road\n  .split('&') // [\"width=727\",\"height=647\", ...]\n  // @ts-ignore\n  .map(_.partial(_.split, _, '=', 2)) // [[\"width\",\"727\"],[\"height\",\"647\"], ...]\n  .fromPairs() // {\"width\":\"727\",\"height\":\"647\", ...}\n  .value();\n};\nexport function naturalSort(a, b) {\n  const re = /(^([+\\-]?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?(?=\\D|\\s|$))|^0x[\\da-fA-F]+$|\\d+)/g;\n  const sre = /^\\s+|\\s+$/g;\n  const snre = /\\s+/g;\n  const dre = /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/;\n  const hre = /^0x[0-9a-f]+$/i;\n  const ore = /^0/;\n\n  const i = s => {\n    return (('' + s).toLowerCase() || '' + s).replace(sre, '');\n  };\n\n  const x = i(a);\n  const y = i(b);\n  const xN = x.replace(re, '\\0$1\\0').replace(/\\0$/, '').replace(/^\\0/, '').split('\\0');\n  const yN = y.replace(re, '\\0$1\\0').replace(/\\0$/, '').replace(/^\\0/, '').split('\\0');\n  const mhre = x.match(hre);\n  const yhre = y.match(hre);\n  const xD = _parseInt(mhre, 16) || xN.length !== 1 && Date.parse(x);\n  const yD = _parseInt(yhre, 16) || xD && y.match(dre) && Date.parse(y) || null;\n\n  const normChunk = (s, l) => {\n    return (!s.match(ore) || l === 1) && _parseFloat(s) || s.replace(snre, ' ').replace(sre, '') || 0;\n  };\n\n  let oFxNcL;\n  let oFyNcL;\n\n  if (yD) {\n    if (xD < yD) {\n      return -1;\n    } else if (xD > yD) {\n      return 1;\n    }\n  }\n\n  for (let cLoc = 0, xNl = xN.length, yNl = yN.length, numS = Math.max(xNl, yNl); cLoc < numS; cLoc++) {\n    oFxNcL = normChunk(xN[cLoc] || '', xNl);\n    oFyNcL = normChunk(yN[cLoc] || '', yNl);\n\n    if (isNaN(oFxNcL) !== isNaN(oFyNcL)) {\n      return isNaN(oFxNcL) ? 1 : -1;\n    }\n\n    if (/[^\\x00-\\x80]/.test(oFxNcL + oFyNcL) && oFxNcL.localeCompare) {\n      const comp = oFxNcL.localeCompare(oFyNcL);\n      return comp / Math.abs(comp);\n    }\n\n    if (oFxNcL < oFyNcL) {\n      return -1;\n    } else if (oFxNcL > oFyNcL) {\n      return 1;\n    }\n  }\n}\nexport function redirectToAreaByWebID(webID) {\n  // redirect to small areas\n  var path = window.location.href.split('?')[0];\n  var reg = /\\/[/home]+$/;\n\n  if (reg.test(path)) {\n    path = path.substr(0, path.lastIndexOf('/'));\n  }\n\n  window.location.href = `${path}about?WebID=${webID}`;\n}\nexport const mergeArraysById = (a1, a2, id) => a1.map(itm => _objectSpread({}, a2.find(item => item[id] === itm[id] && item), itm));\nexport function mapByKey(list, keyGetter) {\n  const map = new _Map();\n  list.forEach(item => {\n    const key = keyGetter(item);\n    const collection = map.get(key);\n\n    if (!collection) {\n      map.set(key, [item]);\n    } else {\n      collection.push(item);\n    }\n  });\n  var mapAsc = new _Map([...map].sort());\n  return mapAsc;\n}\nexport const pathParts = path => {\n  const REGEX = /^\\/?(?<clientAlias>[^\\/]+)\\/?(?<pageAlias>[^\\/]+)?\\/?/;\n  return path.match(REGEX).groups;\n}; // export const IsGatsbyPage = path =>\n//   GatsbyPages.includes(pathParts(path).pageAlias)\n\nexport const formatNumber = number => numeral(number).format('0,0');\nexport const formatPercent = (number, zero = '0') => number ? numeral(number).format('0,0.0') : zero;\nexport const formatChangeNumber = (number, zero = '0') => number ? numeral(number).format('+0,0') : zero;\nexport const formatChangePercent = (number, zero = '0') => number ? numeral(number).format('+0,0.00') : zero;\nexport const formatShortDecimal = (number, zero = '0') => number ? numeral(number).format('0.0') : zero;","map":{"version":3,"sources":["C:\\Users\\fabrice\\Documents\\Workspace\\EcoNext\\src\\Utils.ts"],"names":["_","numeral","getClassNames","styles","classes","isEmpty","classArr","split","classNames","forEach","classN","isUndefined","stripEndQuotes","s","t","length","charAt","substring","detectIE","ua","window","navigator","userAgent","msie","indexOf","trident","rv","edge","getHost","domain","document","location","hostname","toLowerCase","parts","shift","result","join","getHashParams","hashParams","e","undefined","a","r","d","decodeURIComponent","replace","q","hash","exec","buildQueryStringWithObjectKeys","obj","jointer","map","keys","key","getParameterByName","name","url","href","regex","RegExp","results","insertArrayAt","array","index","arrayToInsert","Array","prototype","splice","apply","concat","deserialiseQueryString","query","chain","partial","fromPairs","value","naturalSort","b","re","sre","snre","dre","hre","ore","i","x","y","xN","yN","mhre","match","yhre","xD","Date","parse","yD","normChunk","l","oFxNcL","oFyNcL","cLoc","xNl","yNl","numS","Math","max","isNaN","test","localeCompare","comp","abs","redirectToAreaByWebID","webID","path","reg","substr","lastIndexOf","mergeArraysById","a1","a2","id","itm","find","item","mapByKey","list","keyGetter","collection","get","set","push","mapAsc","sort","pathParts","REGEX","groups","formatNumber","number","format","formatPercent","zero","formatChangeNumber","formatChangePercent","formatShortDecimal"],"mappings":"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","sourcesContent":["import _ from 'lodash';\r\n// import GatsbyPages from './GatsbyPages';\r\nimport numeral from 'numeral';\r\n\r\nexport const getClassNames = (styles: any, classes: string) => {\r\n  if (_.isEmpty(classes)) {\r\n    return;\r\n  }\r\n  const classArr: any = _.split(classes, ' ');\r\n  let classNames: string = '';\r\n\r\n  _.forEach(classArr, (classN: string) => {\r\n    classNames += _.isUndefined(styles[classN])\r\n      ? ' ' + classN\r\n      : ' ' + styles[classN];\r\n  });\r\n  return classNames;\r\n};\r\n\r\nexport const stripEndQuotes = s => {\r\n  let t = s.length;\r\n  if (s.charAt(0) == '\"') s = s.substring(1, t--);\r\n  if (s.charAt(--t) == '\"') s = s.substring(0, t);\r\n  return s;\r\n};\r\n\r\nexport const detectIE = () => {\r\n  const ua: any = window.navigator.userAgent;\r\n\r\n  // Test values; Uncomment to check result …\r\n\r\n  // IE 10\r\n  // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\r\n\r\n  // IE 11\r\n  // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\r\n\r\n  // Edge 12 (Spartan)\r\n  // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\r\n\r\n  // Edge 13\r\n  // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\r\n\r\n  const msie: any = ua.indexOf('MSIE ');\r\n  if (msie > 0) {\r\n    // IE 10 or older => return version number\r\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n  }\r\n\r\n  const trident: any = ua.indexOf('Trident/');\r\n  if (trident > 0) {\r\n    // IE 11 => return version number\r\n    const rv: any = ua.indexOf('rv:');\r\n    return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\r\n  }\r\n\r\n  const edge: any = ua.indexOf('Edge/');\r\n  if (edge > 0) {\r\n    // Edge (IE 12+) => return version number\r\n    return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\r\n  }\r\n\r\n  // other browser\r\n  return 0;\r\n};\r\n\r\nexport const getHost = () => {\r\n  const domain: any = document.location.hostname.toLowerCase();\r\n  const parts = domain.split('.');\r\n  if (parts[0] === 'www') {\r\n    parts.shift();\r\n  }\r\n  parts.shift();\r\n  const result = '.' + parts.join('.');\r\n  return result;\r\n};\r\n\r\nexport const getHashParams = () => {\r\n  const hashParams = {};\r\n  let e = undefined;\r\n  const a = /\\+/g; // Regex for replacing addition symbol with a space\r\n  const r = /([^&;=]+)=?([^&;]*)/g;\r\n  const d = s => decodeURIComponent(s.replace(a, ' '));\r\n  const q = window.location.hash.substring(1);\r\n\r\n  while ((e = r.exec(q))) {\r\n    hashParams[d(e[1])] = d(e[2]);\r\n  }\r\n  return hashParams;\r\n};\r\n\r\nexport const buildQueryStringWithObjectKeys = (obj: any, jointer: string) =>\r\n  _.map(_.keys(obj), key => key + '=' + obj[key]).join(jointer);\r\n\r\nexport const getParameterByName = (\r\n  name: string,\r\n  url: string = window.location.href\r\n): string => {\r\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n  const regex: any = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\r\n  const results = regex.exec(url);\r\n  if (!results) {\r\n    return null;\r\n  }\r\n  if (!results[2]) {\r\n    return '';\r\n  }\r\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n};\r\n\r\nexport const insertArrayAt = (array, index, arrayToInsert) => {\r\n  Array.prototype.splice.apply(array, [index, 0].concat(arrayToInsert));\r\n  return array;\r\n};\r\n\r\nexport const deserialiseQueryString = (query: string) => {\r\n  return (\r\n    _.chain(query)\r\n      .replace('?', '') // width=727&height=647&layers=1,4&zoom=14&lat=-36.641495731141354&lon=146.76125049591067&mapstyle=road\r\n      .split('&') // [\"width=727\",\"height=647\", ...]\r\n      // @ts-ignore\r\n      .map(_.partial(_.split, _, '=', 2)) // [[\"width\",\"727\"],[\"height\",\"647\"], ...]\r\n      .fromPairs() // {\"width\":\"727\",\"height\":\"647\", ...}\r\n      .value()\r\n  );\r\n};\r\n\r\nexport function naturalSort(a, b) {\r\n  const re: any = /(^([+\\-]?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?(?=\\D|\\s|$))|^0x[\\da-fA-F]+$|\\d+)/g;\r\n  const sre: any = /^\\s+|\\s+$/g;\r\n  const snre: any = /\\s+/g;\r\n  const dre: any = /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/;\r\n  const hre: any = /^0x[0-9a-f]+$/i;\r\n  const ore: any = /^0/;\r\n  const i: any = s => {\r\n    return (('' + s).toLowerCase() || '' + s).replace(sre, '');\r\n  };\r\n  const x: any = i(a);\r\n  const y: any = i(b);\r\n  const xN: any = x\r\n    .replace(re, '\\0$1\\0')\r\n    .replace(/\\0$/, '')\r\n    .replace(/^\\0/, '')\r\n    .split('\\0');\r\n  const yN = y\r\n    .replace(re, '\\0$1\\0')\r\n    .replace(/\\0$/, '')\r\n    .replace(/^\\0/, '')\r\n    .split('\\0');\r\n  const mhre: any = x.match(hre);\r\n  const yhre: any = y.match(hre);\r\n  const xD: any = parseInt(mhre, 16) || (xN.length !== 1 && Date.parse(x));\r\n  const yD: any =\r\n    parseInt(yhre, 16) || (xD && y.match(dre) && Date.parse(y)) || null;\r\n  const normChunk: any = (s, l) => {\r\n    return (\r\n      ((!s.match(ore) || l === 1) && parseFloat(s)) ||\r\n      s.replace(snre, ' ').replace(sre, '') ||\r\n      0\r\n    );\r\n  };\r\n  let oFxNcL: any;\r\n  let oFyNcL: any;\r\n\r\n  if (yD) {\r\n    if (xD < yD) {\r\n      return -1;\r\n    } else if (xD > yD) {\r\n      return 1;\r\n    }\r\n  }\r\n  for (\r\n    let cLoc = 0, xNl = xN.length, yNl = yN.length, numS = Math.max(xNl, yNl);\r\n    cLoc < numS;\r\n    cLoc++\r\n  ) {\r\n    oFxNcL = normChunk(xN[cLoc] || '', xNl);\r\n    oFyNcL = normChunk(yN[cLoc] || '', yNl);\r\n    if (isNaN(oFxNcL) !== isNaN(oFyNcL)) {\r\n      return isNaN(oFxNcL) ? 1 : -1;\r\n    }\r\n    if (/[^\\x00-\\x80]/.test(oFxNcL + oFyNcL) && oFxNcL.localeCompare) {\r\n      const comp = oFxNcL.localeCompare(oFyNcL);\r\n      return comp / Math.abs(comp);\r\n    }\r\n    if (oFxNcL < oFyNcL) {\r\n      return -1;\r\n    } else if (oFxNcL > oFyNcL) {\r\n      return 1;\r\n    }\r\n  }\r\n}\r\n\r\nexport function redirectToAreaByWebID(webID) {\r\n  // redirect to small areas\r\n  var path = window.location.href.split('?')[0];\r\n  var reg = /\\/[/home]+$/;\r\n  if (reg.test(path)) {\r\n    path = path.substr(0, path.lastIndexOf('/'));\r\n  }\r\n  window.location.href = `${path}about?WebID=${webID}`;\r\n}\r\nexport const mergeArraysById = (a1, a2, id) =>\r\n  a1.map(itm => ({\r\n    ...a2.find(item => item[id] === itm[id] && item),\r\n    ...itm\r\n  }));\r\n\r\nexport function mapByKey(list, keyGetter) {\r\n  const map = new Map();\r\n  list.forEach(item => {\r\n    const key = keyGetter(item);\r\n    const collection = map.get(key);\r\n    if (!collection) {\r\n      map.set(key, [item]);\r\n    } else {\r\n      collection.push(item);\r\n    }\r\n  });\r\n  var mapAsc = new Map([...map].sort());\r\n  return mapAsc;\r\n}\r\n\r\nexport const pathParts = (path: string) => {\r\n  const REGEX = /^\\/?(?<clientAlias>[^\\/]+)\\/?(?<pageAlias>[^\\/]+)?\\/?/;\r\n  return path.match(REGEX).groups;\r\n};\r\n\r\n// export const IsGatsbyPage = path =>\r\n//   GatsbyPages.includes(pathParts(path).pageAlias)\r\n\r\nexport const formatNumber = number => numeral(number).format('0,0');\r\nexport const formatPercent = (number, zero = '0') =>\r\n  number ? numeral(number).format('0,0.0') : zero;\r\nexport const formatChangeNumber = (number, zero = '0') =>\r\n  number ? numeral(number).format('+0,0') : zero;\r\nexport const formatChangePercent = (number, zero = '0') =>\r\n  number ? numeral(number).format('+0,0.00') : zero;\r\nexport const formatShortDecimal = (number, zero = '0') =>\r\n  number ? numeral(number).format('0.0') : zero;\r\n"]},"metadata":{},"sourceType":"module"}