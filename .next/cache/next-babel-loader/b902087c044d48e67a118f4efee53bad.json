{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fabrice\\\\Documents\\\\Workspace\\\\EcoNext\\\\pages\\\\[clientAlias]\\\\workers-field-of-qualification.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport { useRouter } from 'next/router';\n\nconst LocalWorkerFieldofQualififcation = ({\n  clients\n}) => {\n  const router = useRouter();\n  const {\n    clientAlias\n  } = router.query;\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, \"Workers field of qualification\"), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, \"Client alias is \", clientAlias), __jsx(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, clients.map(client => __jsx(\"li\", {\n    key: client.ClientID,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, client.Name))));\n};\n\nexport default LocalWorkerFieldofQualififcation;\n\nLocalWorkerFieldofQualififcation.getInitialProps = async function () {\n  const res = await fetch('http://localhost:3000/api/monash/workers-field-of-qualification');\n  const data = await res.json();\n  return data;\n};\n\nconst tableBuilder = ({\n  prettyName: clientName,\n  indName: industry,\n  bmName: benchmark,\n  genderName: gender,\n  TabularData: data\n}) => {\n  const footerRows = data.filter(item => item.IndustryName === 'Total');\n\n  const parents = _.sortBy(data.filter(item => item.Heirarchy === 'P' && item.IndustryName !== 'Total'), item => item.LabelKey);\n\n  const children = data.filter(item => item.Heirarchy === 'C');\n  parents.forEach(parent => {\n    parent.children = children.filter(child => child.LabelKey > parent.LabelKey && child.LabelKey < parent.LabelKey + 1000);\n  });\n  return {\n    cssClass: '',\n    allowExport: false,\n    allowSort: true,\n    allowSortReset: true,\n    groupOn: '',\n    clientAlias: 'Monash',\n    source: __jsx(Source, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }),\n    rawDataSource: 'Source: Australian Bureau of Statistics, Regional Population Growth, Australia (3218.0). Compiled and presented in economy.id by.id, the population experts.',\n    anchorName: 'service-age-groups',\n    headRows: [{\n      cssClass: '',\n      cols: [{\n        cssClass: 'table-area-name',\n        displayText: 'Local workers field of qualification - Summary',\n        colSpan: 10,\n        rowSpan: 0\n      }],\n      key: 'hr0'\n    }, {\n      cssClass: '',\n      cols: [{\n        cssClass: '',\n        displayText: `${clientName} - ${industry}`,\n        colSpan: 1,\n        rowSpan: 0\n      }, {\n        cssClass: 'xeven start-year',\n        displayText: ' 2016',\n        colSpan: 3,\n        rowSpan: 0\n      }, {\n        cssClass: 'xodd end-year',\n        displayText: '2011',\n        colSpan: 3,\n        rowSpan: 0\n      }, {\n        cssClass: 'xeven start-year',\n        displayText: 'Change',\n        colSpan: 1,\n        rowSpan: 0\n      }],\n      key: 'hr1'\n    }],\n    cols: [{\n      id: 0,\n      displayText: 'Field of qualification (Click rows to view sub-categories)',\n      dataType: 'int',\n      sortable: false,\n      cssClass: 'xodd xfirst'\n    }, {\n      id: 1,\n      displayText: 'Number',\n      dataType: 'int',\n      sortable: true,\n      cssClass: 'xeven latest',\n      format: '{0:#,0}'\n    }, {\n      id: 2,\n      displayText: '%',\n      dataType: 'money',\n      sortable: true,\n      cssClass: 'xeven latest',\n      format: '{0:+#,0;-#,0;0}'\n    }, {\n      id: 3,\n      displayText: `${benchmark}`,\n      dataType: 'money',\n      sortable: true,\n      cssClass: 'xeven latest',\n      format: '{0:+#,0;-#,0;0}'\n    }, {\n      id: 4,\n      displayText: 'Number',\n      title: '',\n      dataType: 'int',\n      sortable: true,\n      cssClass: 'xodd',\n      format: '{0:#,0}'\n    }, {\n      id: 5,\n      displayText: '%',\n      dataType: 'money',\n      sortable: true,\n      cssClass: 'per xodd',\n      format: '{0:+#,0;-#,0;0}'\n    }, {\n      id: 6,\n      displayText: `${benchmark}`,\n      dataType: 'money',\n      sortable: true,\n      cssClass: 'xodd',\n      format: '{0:+#,0;-#,0;0}'\n    }, {\n      id: 7,\n      displayText: '2011 - 2016',\n      title: '',\n      dataType: 'int',\n      sortable: true,\n      cssClass: 'xeven',\n      format: '{0:#,0}'\n    }],\n    rows: parents.map(row => ({\n      expandable: row.children.length > 0,\n      id: row.LabelKey,\n      data: [row.LabelName, row.NoYear1, row.PerYear1, row.BMYear1, row.NoYear2, row.PerYear2, row.BMYear2, row.Change12],\n      formattedData: [`${row.LabelName}`, formatNumber(row.NoYear1), formatNumber(row.PerYear1), formatNumber(row.BMYear1), formatNumber(row.NoYear2), formatNumber(row.PerYear2), formatNumber(row.BMYear2), formatChangeNumber(row.Change12, '--')],\n      childRows: row.children.map(childRow => ({\n        id: childRow.LabelKey,\n        data: [childRow.LabelName, childRow.NoYear1, childRow.PerYear1, childRow.BMYear1, childRow.NoYear2, childRow.PerYear2, childRow.BMYear2, childRow.Change12],\n        formattedData: [`${childRow.LabelName}`, formatNumber(childRow.NoYear1), formatNumber(childRow.PerYear1), formatNumber(childRow.BMYear1), formatNumber(childRow.NoYear2), formatNumber(childRow.PerYear2), formatNumber(childRow.BMYear2), formatChangeNumber(childRow.Change12, '--')]\n      }))\n    })),\n    footRows: footerRows.map(row => {\n      return {\n        cssClass: '',\n        cols: [{\n          cssClass: '',\n          displayText: `Total ${gender}`,\n          colSpan: 1\n        }, {\n          cssClass: '',\n          displayText: formatNumber(row.NoYear1),\n          colSpan: 1\n        }, {\n          cssClass: '',\n          displayText: formatNumber(row.PerYear1),\n          colSpan: 1\n        }, {\n          cssClass: '',\n          displayText: formatNumber(row.BMYear1),\n          colSpan: 1\n        }, {\n          cssClass: '',\n          displayText: formatNumber(row.NoYear2),\n          colSpan: 1\n        }, {\n          cssClass: '',\n          displayText: formatNumber(row.PerYear2),\n          colSpan: 1\n        }, {\n          cssClass: '',\n          displayText: formatNumber(row.BMYear2),\n          colSpan: 1\n        }, {\n          cssClass: '',\n          displayText: formatChangeNumber(row.Change12),\n          colSpan: 1\n        }]\n      };\n    }),\n    noOfRowsOnInit: 16\n  };\n};","map":{"version":3,"sources":["C:\\Users\\fabrice\\Documents\\Workspace\\EcoNext\\pages\\[clientAlias]\\workers-field-of-qualification.tsx"],"names":["fetch","useRouter","LocalWorkerFieldofQualififcation","clients","router","clientAlias","query","map","client","ClientID","Name","getInitialProps","res","data","json","tableBuilder","prettyName","clientName","indName","industry","bmName","benchmark","genderName","gender","TabularData","footerRows","filter","item","IndustryName","parents","_","sortBy","Heirarchy","LabelKey","children","forEach","parent","child","cssClass","allowExport","allowSort","allowSortReset","groupOn","source","rawDataSource","anchorName","headRows","cols","displayText","colSpan","rowSpan","key","id","dataType","sortable","format","title","rows","row","expandable","length","LabelName","NoYear1","PerYear1","BMYear1","NoYear2","PerYear2","BMYear2","Change12","formattedData","formatNumber","formatChangeNumber","childRows","childRow","footRows","noOfRowsOnInit"],"mappings":"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","sourcesContent":["import fetch from 'isomorphic-unfetch';\r\nimport { useRouter } from 'next/router';\r\n\r\nconst LocalWorkerFieldofQualififcation = ({ clients }) => {\r\n  const router = useRouter();\r\n  const { clientAlias } = router.query;\r\n  return (\r\n    <div>\r\n      <h1>Workers field of qualification</h1>\r\n      <p>Client alias is {clientAlias}</p>\r\n      <ul>\r\n        {clients.map(client => (\r\n          <li key={client.ClientID}>{client.Name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LocalWorkerFieldofQualififcation;\r\n\r\nLocalWorkerFieldofQualififcation.getInitialProps = async function() {\r\n  const res = await fetch(\r\n    'http://localhost:3000/api/monash/workers-field-of-qualification'\r\n  );\r\n  const data = await res.json();\r\n\r\n  return data;\r\n};\r\n\r\nconst tableBuilder = ({\r\n  prettyName: clientName,\r\n  indName: industry,\r\n  bmName: benchmark,\r\n  genderName: gender,\r\n  TabularData: data\r\n}) => {\r\n  const footerRows = data.filter(item => item.IndustryName === 'Total');\r\n  const parents = _.sortBy(\r\n    data.filter(\r\n      item => item.Heirarchy === 'P' && item.IndustryName !== 'Total'\r\n    ),\r\n    item => item.LabelKey\r\n  );\r\n  const children = data.filter(item => item.Heirarchy === 'C');\r\n\r\n  parents.forEach(parent => {\r\n    parent.children = children.filter(\r\n      child =>\r\n        child.LabelKey > parent.LabelKey &&\r\n        child.LabelKey < parent.LabelKey + 1000\r\n    );\r\n  });\r\n\r\n  return {\r\n    cssClass: '',\r\n    allowExport: false,\r\n    allowSort: true,\r\n    allowSortReset: true,\r\n    groupOn: '',\r\n    clientAlias: 'Monash',\r\n    source: <Source />,\r\n    rawDataSource:\r\n      'Source: Australian Bureau of Statistics, Regional Population Growth, Australia (3218.0). Compiled and presented in economy.id by.id, the population experts.',\r\n    anchorName: 'service-age-groups',\r\n    headRows: [\r\n      {\r\n        cssClass: '',\r\n        cols: [\r\n          {\r\n            cssClass: 'table-area-name',\r\n            displayText: 'Local workers field of qualification - Summary',\r\n            colSpan: 10,\r\n            rowSpan: 0\r\n          }\r\n        ],\r\n        key: 'hr0'\r\n      },\r\n      {\r\n        cssClass: '',\r\n        cols: [\r\n          {\r\n            cssClass: '',\r\n            displayText: `${clientName} - ${industry}`,\r\n            colSpan: 1,\r\n            rowSpan: 0\r\n          },\r\n          {\r\n            cssClass: 'xeven start-year',\r\n            displayText: ' 2016',\r\n            colSpan: 3,\r\n            rowSpan: 0\r\n          },\r\n          {\r\n            cssClass: 'xodd end-year',\r\n            displayText: '2011',\r\n            colSpan: 3,\r\n            rowSpan: 0\r\n          },\r\n          {\r\n            cssClass: 'xeven start-year',\r\n            displayText: 'Change',\r\n            colSpan: 1,\r\n            rowSpan: 0\r\n          }\r\n        ],\r\n        key: 'hr1'\r\n      }\r\n    ],\r\n    cols: [\r\n      {\r\n        id: 0,\r\n        displayText:\r\n          'Field of qualification (Click rows to view sub-categories)',\r\n        dataType: 'int',\r\n        sortable: false,\r\n        cssClass: 'xodd xfirst'\r\n      },\r\n      {\r\n        id: 1,\r\n        displayText: 'Number',\r\n        dataType: 'int',\r\n        sortable: true,\r\n        cssClass: 'xeven latest',\r\n        format: '{0:#,0}'\r\n      },\r\n      {\r\n        id: 2,\r\n        displayText: '%',\r\n        dataType: 'money',\r\n        sortable: true,\r\n        cssClass: 'xeven latest',\r\n        format: '{0:+#,0;-#,0;0}'\r\n      },\r\n      {\r\n        id: 3,\r\n        displayText: `${benchmark}`,\r\n        dataType: 'money',\r\n        sortable: true,\r\n        cssClass: 'xeven latest',\r\n        format: '{0:+#,0;-#,0;0}'\r\n      },\r\n      {\r\n        id: 4,\r\n        displayText: 'Number',\r\n        title: '',\r\n        dataType: 'int',\r\n        sortable: true,\r\n        cssClass: 'xodd',\r\n        format: '{0:#,0}'\r\n      },\r\n      {\r\n        id: 5,\r\n        displayText: '%',\r\n        dataType: 'money',\r\n        sortable: true,\r\n        cssClass: 'per xodd',\r\n        format: '{0:+#,0;-#,0;0}'\r\n      },\r\n      {\r\n        id: 6,\r\n        displayText: `${benchmark}`,\r\n        dataType: 'money',\r\n        sortable: true,\r\n        cssClass: 'xodd',\r\n        format: '{0:+#,0;-#,0;0}'\r\n      },\r\n      {\r\n        id: 7,\r\n        displayText: '2011 - 2016',\r\n        title: '',\r\n        dataType: 'int',\r\n        sortable: true,\r\n        cssClass: 'xeven',\r\n        format: '{0:#,0}'\r\n      }\r\n    ],\r\n    rows: parents.map(row => ({\r\n      expandable: row.children.length > 0,\r\n      id: row.LabelKey,\r\n      data: [\r\n        row.LabelName,\r\n        row.NoYear1,\r\n        row.PerYear1,\r\n        row.BMYear1,\r\n        row.NoYear2,\r\n        row.PerYear2,\r\n        row.BMYear2,\r\n        row.Change12\r\n      ],\r\n      formattedData: [\r\n        `${row.LabelName}`,\r\n        formatNumber(row.NoYear1),\r\n        formatNumber(row.PerYear1),\r\n        formatNumber(row.BMYear1),\r\n        formatNumber(row.NoYear2),\r\n        formatNumber(row.PerYear2),\r\n        formatNumber(row.BMYear2),\r\n        formatChangeNumber(row.Change12, '--')\r\n      ],\r\n      childRows: row.children.map(childRow => ({\r\n        id: childRow.LabelKey,\r\n        data: [\r\n          childRow.LabelName,\r\n          childRow.NoYear1,\r\n          childRow.PerYear1,\r\n          childRow.BMYear1,\r\n          childRow.NoYear2,\r\n          childRow.PerYear2,\r\n          childRow.BMYear2,\r\n          childRow.Change12\r\n        ],\r\n        formattedData: [\r\n          `${childRow.LabelName}`,\r\n          formatNumber(childRow.NoYear1),\r\n          formatNumber(childRow.PerYear1),\r\n          formatNumber(childRow.BMYear1),\r\n          formatNumber(childRow.NoYear2),\r\n          formatNumber(childRow.PerYear2),\r\n          formatNumber(childRow.BMYear2),\r\n          formatChangeNumber(childRow.Change12, '--')\r\n        ]\r\n      }))\r\n    })),\r\n    footRows: footerRows.map(row => {\r\n      return {\r\n        cssClass: '',\r\n        cols: [\r\n          { cssClass: '', displayText: `Total ${gender}`, colSpan: 1 },\r\n          { cssClass: '', displayText: formatNumber(row.NoYear1), colSpan: 1 },\r\n          { cssClass: '', displayText: formatNumber(row.PerYear1), colSpan: 1 },\r\n          { cssClass: '', displayText: formatNumber(row.BMYear1), colSpan: 1 },\r\n          { cssClass: '', displayText: formatNumber(row.NoYear2), colSpan: 1 },\r\n          { cssClass: '', displayText: formatNumber(row.PerYear2), colSpan: 1 },\r\n          { cssClass: '', displayText: formatNumber(row.BMYear2), colSpan: 1 },\r\n          {\r\n            cssClass: '',\r\n            displayText: formatChangeNumber(row.Change12),\r\n            colSpan: 1\r\n          }\r\n        ]\r\n      };\r\n    }),\r\n    noOfRowsOnInit: 16\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}