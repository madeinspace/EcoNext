{"ast":null,"code":"import _Object$create from \"@babel/runtime-corejs2/core-js/object/create\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Symbol$replace from \"@babel/runtime-corejs2/core-js/symbol/replace\";\nimport _WeakMap from \"@babel/runtime-corejs2/core-js/weak-map\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _wrapNativeSuper from \"@babel/runtime-corejs2/helpers/esm/wrapNativeSuper\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _Map from \"@babel/runtime-corejs2/core-js/map\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _parseFloat from \"@babel/runtime-corejs2/core-js/parse-float\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\n\nfunction _wrapRegExp(re, groups) { _wrapRegExp = function _wrapRegExp(re, groups) { return new BabelRegExp(re, undefined, groups); }; var _RegExp = _wrapNativeSuper(RegExp); var _super = RegExp.prototype; var _groups = new _WeakMap(); function BabelRegExp(re, flags, groups) { var _this = _RegExp.call(this, re, flags); _groups.set(_this, groups || _groups.get(re)); return _this; } _inherits(BabelRegExp, _RegExp); BabelRegExp.prototype.exec = function (str) { var result = _super.exec.call(this, str); if (result) result.groups = buildGroups(result, this); return result; }; BabelRegExp.prototype[_Symbol$replace] = function (str, substitution) { if (typeof substitution === \"string\") { var groups = _groups.get(this); return _super[_Symbol$replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) { return \"$\" + groups[name]; })); } else if (typeof substitution === \"function\") { var _this = this; return _super[_Symbol$replace].call(this, str, function () { var args = []; args.push.apply(args, arguments); if (typeof args[args.length - 1] !== \"object\") { args.push(buildGroups(args, _this)); } return substitution.apply(this, args); }); } else { return _super[_Symbol$replace].call(this, str, substitution); } }; function buildGroups(result, re) { var g = _groups.get(re); return _Object$keys(g).reduce(function (groups, name) { groups[name] = result[g[name]]; return groups; }, _Object$create(null)); } return _wrapRegExp.apply(this, arguments); }\n\nimport _ from 'lodash'; // import GatsbyPages from './GatsbyPages';\n\nimport numeral from 'numeral';\nexport var getClassNames = function getClassNames(styles, classes) {\n  if (_.isEmpty(classes)) {\n    return;\n  }\n\n  var classArr = _.split(classes, ' ');\n\n  var classNames = '';\n\n  _.forEach(classArr, function (classN) {\n    classNames += _.isUndefined(styles[classN]) ? ' ' + classN : ' ' + styles[classN];\n  });\n\n  return classNames;\n};\nexport var stripEndQuotes = function stripEndQuotes(s) {\n  var t = s.length;\n  if (s.charAt(0) == '\"') s = s.substring(1, t--);\n  if (s.charAt(--t) == '\"') s = s.substring(0, t);\n  return s;\n};\nexport var detectIE = function detectIE() {\n  var ua = window.navigator.userAgent; // Test values; Uncomment to check result …\n  // IE 10\n  // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\n  // IE 11\n  // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\n  // Edge 12 (Spartan)\n  // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\n  // Edge 13\n  // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\n\n  var msie = ua.indexOf('MSIE ');\n\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    return _parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n  }\n\n  var trident = ua.indexOf('Trident/');\n\n  if (trident > 0) {\n    // IE 11 => return version number\n    var rv = ua.indexOf('rv:');\n    return _parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n  }\n\n  var edge = ua.indexOf('Edge/');\n\n  if (edge > 0) {\n    // Edge (IE 12+) => return version number\n    return _parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n  } // other browser\n\n\n  return 0;\n};\nexport var getHost = function getHost() {\n  var domain = document.location.hostname.toLowerCase();\n  var parts = domain.split('.');\n\n  if (parts[0] === 'www') {\n    parts.shift();\n  }\n\n  parts.shift();\n  var result = '.' + parts.join('.');\n  return result;\n};\nexport var getHashParams = function getHashParams() {\n  var hashParams = {};\n  var e = undefined;\n  var a = /\\+/g; // Regex for replacing addition symbol with a space\n\n  var r = /([^&;=]+)=?([^&;]*)/g;\n\n  var d = function d(s) {\n    return decodeURIComponent(s.replace(a, ' '));\n  };\n\n  var q = window.location.hash.substring(1);\n\n  while (e = r.exec(q)) {\n    hashParams[d(e[1])] = d(e[2]);\n  }\n\n  return hashParams;\n};\nexport var buildQueryStringWithObjectKeys = function buildQueryStringWithObjectKeys(obj, jointer) {\n  return _.map(_.keys(obj), function (key) {\n    return key + '=' + obj[key];\n  }).join(jointer);\n};\nexport var getParameterByName = function getParameterByName(name) {\n  var url = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window.location.href;\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\n  var results = regex.exec(url);\n\n  if (!results) {\n    return null;\n  }\n\n  if (!results[2]) {\n    return '';\n  }\n\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n};\nexport var insertArrayAt = function insertArrayAt(array, index, arrayToInsert) {\n  Array.prototype.splice.apply(array, [index, 0].concat(arrayToInsert));\n  return array;\n};\nexport var deserialiseQueryString = function deserialiseQueryString(query) {\n  return _.chain(query).replace('?', '') // width=727&height=647&layers=1,4&zoom=14&lat=-36.641495731141354&lon=146.76125049591067&mapstyle=road\n  .split('&') // [\"width=727\",\"height=647\", ...]\n  // @ts-ignore\n  .map(_.partial(_.split, _, '=', 2)) // [[\"width\",\"727\"],[\"height\",\"647\"], ...]\n  .fromPairs() // {\"width\":\"727\",\"height\":\"647\", ...}\n  .value();\n};\nexport function naturalSort(a, b) {\n  var re = /(^([+\\-]?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?(?=\\D|\\s|$))|^0x[\\da-fA-F]+$|\\d+)/g;\n  var sre = /^\\s+|\\s+$/g;\n  var snre = /\\s+/g;\n  var dre = /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/;\n  var hre = /^0x[0-9a-f]+$/i;\n  var ore = /^0/;\n\n  var i = function i(s) {\n    return (('' + s).toLowerCase() || '' + s).replace(sre, '');\n  };\n\n  var x = i(a);\n  var y = i(b);\n  var xN = x.replace(re, '\\0$1\\0').replace(/\\0$/, '').replace(/^\\0/, '').split('\\0');\n  var yN = y.replace(re, '\\0$1\\0').replace(/\\0$/, '').replace(/^\\0/, '').split('\\0');\n  var mhre = x.match(hre);\n  var yhre = y.match(hre);\n  var xD = _parseInt(mhre, 16) || xN.length !== 1 && Date.parse(x);\n  var yD = _parseInt(yhre, 16) || xD && y.match(dre) && Date.parse(y) || null;\n\n  var normChunk = function normChunk(s, l) {\n    return (!s.match(ore) || l === 1) && _parseFloat(s) || s.replace(snre, ' ').replace(sre, '') || 0;\n  };\n\n  var oFxNcL;\n  var oFyNcL;\n\n  if (yD) {\n    if (xD < yD) {\n      return -1;\n    } else if (xD > yD) {\n      return 1;\n    }\n  }\n\n  for (var cLoc = 0, xNl = xN.length, yNl = yN.length, numS = Math.max(xNl, yNl); cLoc < numS; cLoc++) {\n    oFxNcL = normChunk(xN[cLoc] || '', xNl);\n    oFyNcL = normChunk(yN[cLoc] || '', yNl);\n\n    if (isNaN(oFxNcL) !== isNaN(oFyNcL)) {\n      return isNaN(oFxNcL) ? 1 : -1;\n    }\n\n    if (/[^\\x00-\\x80]/.test(oFxNcL + oFyNcL) && oFxNcL.localeCompare) {\n      var comp = oFxNcL.localeCompare(oFyNcL);\n      return comp / Math.abs(comp);\n    }\n\n    if (oFxNcL < oFyNcL) {\n      return -1;\n    } else if (oFxNcL > oFyNcL) {\n      return 1;\n    }\n  }\n}\nexport function redirectToAreaByWebID(webID) {\n  // redirect to small areas\n  var path = window.location.href.split('?')[0];\n  var reg = /\\/[/home]+$/;\n\n  if (reg.test(path)) {\n    path = path.substr(0, path.lastIndexOf('/'));\n  }\n\n  window.location.href = \"\".concat(path, \"about?WebID=\").concat(webID);\n}\nexport var mergeArraysById = function mergeArraysById(a1, a2, id) {\n  return a1.map(function (itm) {\n    return _objectSpread({}, a2.find(function (item) {\n      return item[id] === itm[id] && item;\n    }), itm);\n  });\n};\nexport function mapByKey(list, keyGetter) {\n  var map = new _Map();\n  list.forEach(function (item) {\n    var key = keyGetter(item);\n    var collection = map.get(key);\n\n    if (!collection) {\n      map.set(key, [item]);\n    } else {\n      collection.push(item);\n    }\n  });\n  var mapAsc = new _Map(_toConsumableArray(map).sort());\n  return mapAsc;\n}\nexport var pathParts = function pathParts(path) {\n  var REGEX = _wrapRegExp(/^\\/?([\\0-\\.0-\\uFFFF]+)\\/?([\\0-\\.0-\\uFFFF]+)?\\/?/, {\n    clientAlias: 1,\n    pageAlias: 2\n  });\n\n  return path.match(REGEX).groups;\n}; // export const IsGatsbyPage = path =>\n//   GatsbyPages.includes(pathParts(path).pageAlias)\n\nexport var formatNumber = function formatNumber(number) {\n  return numeral(number).format('0,0');\n};\nexport var formatPercent = function formatPercent(number) {\n  var zero = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '0';\n  return number ? numeral(number).format('0,0.0') : zero;\n};\nexport var formatChangeNumber = function formatChangeNumber(number) {\n  var zero = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '0';\n  return number ? numeral(number).format('+0,0') : zero;\n};\nexport var formatChangePercent = function formatChangePercent(number) {\n  var zero = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '0';\n  return number ? numeral(number).format('+0,0.00') : zero;\n};\nexport var formatShortDecimal = function formatShortDecimal(number) {\n  var zero = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '0';\n  return number ? numeral(number).format('0.0') : zero;\n};","map":{"version":3,"sources":["C:\\Users\\fabrice\\Documents\\Workspace\\EcoNext\\src\\Utils.ts"],"names":["_","numeral","getClassNames","styles","classes","isEmpty","classArr","split","classNames","forEach","classN","isUndefined","stripEndQuotes","s","t","length","charAt","substring","detectIE","ua","window","navigator","userAgent","msie","indexOf","trident","rv","edge","getHost","domain","document","location","hostname","toLowerCase","parts","shift","result","join","getHashParams","hashParams","e","undefined","a","r","d","decodeURIComponent","replace","q","hash","exec","buildQueryStringWithObjectKeys","obj","jointer","map","keys","key","getParameterByName","name","url","href","regex","RegExp","results","insertArrayAt","array","index","arrayToInsert","Array","prototype","splice","apply","concat","deserialiseQueryString","query","chain","partial","fromPairs","value","naturalSort","b","re","sre","snre","dre","hre","ore","i","x","y","xN","yN","mhre","match","yhre","xD","Date","parse","yD","normChunk","l","oFxNcL","oFyNcL","cLoc","xNl","yNl","numS","Math","max","isNaN","test","localeCompare","comp","abs","redirectToAreaByWebID","webID","path","reg","substr","lastIndexOf","mergeArraysById","a1","a2","id","itm","find","item","mapByKey","list","keyGetter","collection","get","set","push","mapAsc","sort","pathParts","REGEX","groups","formatNumber","number","format","formatPercent","zero","formatChangeNumber","formatChangePercent","formatShortDecimal"],"mappings":"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","sourcesContent":["import _ from 'lodash';\r\n// import GatsbyPages from './GatsbyPages';\r\nimport numeral from 'numeral';\r\n\r\nexport const getClassNames = (styles: any, classes: string) => {\r\n  if (_.isEmpty(classes)) {\r\n    return;\r\n  }\r\n  const classArr: any = _.split(classes, ' ');\r\n  let classNames: string = '';\r\n\r\n  _.forEach(classArr, (classN: string) => {\r\n    classNames += _.isUndefined(styles[classN])\r\n      ? ' ' + classN\r\n      : ' ' + styles[classN];\r\n  });\r\n  return classNames;\r\n};\r\n\r\nexport const stripEndQuotes = s => {\r\n  let t = s.length;\r\n  if (s.charAt(0) == '\"') s = s.substring(1, t--);\r\n  if (s.charAt(--t) == '\"') s = s.substring(0, t);\r\n  return s;\r\n};\r\n\r\nexport const detectIE = () => {\r\n  const ua: any = window.navigator.userAgent;\r\n\r\n  // Test values; Uncomment to check result …\r\n\r\n  // IE 10\r\n  // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\r\n\r\n  // IE 11\r\n  // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\r\n\r\n  // Edge 12 (Spartan)\r\n  // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\r\n\r\n  // Edge 13\r\n  // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\r\n\r\n  const msie: any = ua.indexOf('MSIE ');\r\n  if (msie > 0) {\r\n    // IE 10 or older => return version number\r\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n  }\r\n\r\n  const trident: any = ua.indexOf('Trident/');\r\n  if (trident > 0) {\r\n    // IE 11 => return version number\r\n    const rv: any = ua.indexOf('rv:');\r\n    return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\r\n  }\r\n\r\n  const edge: any = ua.indexOf('Edge/');\r\n  if (edge > 0) {\r\n    // Edge (IE 12+) => return version number\r\n    return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\r\n  }\r\n\r\n  // other browser\r\n  return 0;\r\n};\r\n\r\nexport const getHost = () => {\r\n  const domain: any = document.location.hostname.toLowerCase();\r\n  const parts = domain.split('.');\r\n  if (parts[0] === 'www') {\r\n    parts.shift();\r\n  }\r\n  parts.shift();\r\n  const result = '.' + parts.join('.');\r\n  return result;\r\n};\r\n\r\nexport const getHashParams = () => {\r\n  const hashParams = {};\r\n  let e = undefined;\r\n  const a = /\\+/g; // Regex for replacing addition symbol with a space\r\n  const r = /([^&;=]+)=?([^&;]*)/g;\r\n  const d = s => decodeURIComponent(s.replace(a, ' '));\r\n  const q = window.location.hash.substring(1);\r\n\r\n  while ((e = r.exec(q))) {\r\n    hashParams[d(e[1])] = d(e[2]);\r\n  }\r\n  return hashParams;\r\n};\r\n\r\nexport const buildQueryStringWithObjectKeys = (obj: any, jointer: string) =>\r\n  _.map(_.keys(obj), key => key + '=' + obj[key]).join(jointer);\r\n\r\nexport const getParameterByName = (\r\n  name: string,\r\n  url: string = window.location.href\r\n): string => {\r\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n  const regex: any = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\r\n  const results = regex.exec(url);\r\n  if (!results) {\r\n    return null;\r\n  }\r\n  if (!results[2]) {\r\n    return '';\r\n  }\r\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n};\r\n\r\nexport const insertArrayAt = (array, index, arrayToInsert) => {\r\n  Array.prototype.splice.apply(array, [index, 0].concat(arrayToInsert));\r\n  return array;\r\n};\r\n\r\nexport const deserialiseQueryString = (query: string) => {\r\n  return (\r\n    _.chain(query)\r\n      .replace('?', '') // width=727&height=647&layers=1,4&zoom=14&lat=-36.641495731141354&lon=146.76125049591067&mapstyle=road\r\n      .split('&') // [\"width=727\",\"height=647\", ...]\r\n      // @ts-ignore\r\n      .map(_.partial(_.split, _, '=', 2)) // [[\"width\",\"727\"],[\"height\",\"647\"], ...]\r\n      .fromPairs() // {\"width\":\"727\",\"height\":\"647\", ...}\r\n      .value()\r\n  );\r\n};\r\n\r\nexport function naturalSort(a, b) {\r\n  const re: any = /(^([+\\-]?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?(?=\\D|\\s|$))|^0x[\\da-fA-F]+$|\\d+)/g;\r\n  const sre: any = /^\\s+|\\s+$/g;\r\n  const snre: any = /\\s+/g;\r\n  const dre: any = /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/;\r\n  const hre: any = /^0x[0-9a-f]+$/i;\r\n  const ore: any = /^0/;\r\n  const i: any = s => {\r\n    return (('' + s).toLowerCase() || '' + s).replace(sre, '');\r\n  };\r\n  const x: any = i(a);\r\n  const y: any = i(b);\r\n  const xN: any = x\r\n    .replace(re, '\\0$1\\0')\r\n    .replace(/\\0$/, '')\r\n    .replace(/^\\0/, '')\r\n    .split('\\0');\r\n  const yN = y\r\n    .replace(re, '\\0$1\\0')\r\n    .replace(/\\0$/, '')\r\n    .replace(/^\\0/, '')\r\n    .split('\\0');\r\n  const mhre: any = x.match(hre);\r\n  const yhre: any = y.match(hre);\r\n  const xD: any = parseInt(mhre, 16) || (xN.length !== 1 && Date.parse(x));\r\n  const yD: any =\r\n    parseInt(yhre, 16) || (xD && y.match(dre) && Date.parse(y)) || null;\r\n  const normChunk: any = (s, l) => {\r\n    return (\r\n      ((!s.match(ore) || l === 1) && parseFloat(s)) ||\r\n      s.replace(snre, ' ').replace(sre, '') ||\r\n      0\r\n    );\r\n  };\r\n  let oFxNcL: any;\r\n  let oFyNcL: any;\r\n\r\n  if (yD) {\r\n    if (xD < yD) {\r\n      return -1;\r\n    } else if (xD > yD) {\r\n      return 1;\r\n    }\r\n  }\r\n  for (\r\n    let cLoc = 0, xNl = xN.length, yNl = yN.length, numS = Math.max(xNl, yNl);\r\n    cLoc < numS;\r\n    cLoc++\r\n  ) {\r\n    oFxNcL = normChunk(xN[cLoc] || '', xNl);\r\n    oFyNcL = normChunk(yN[cLoc] || '', yNl);\r\n    if (isNaN(oFxNcL) !== isNaN(oFyNcL)) {\r\n      return isNaN(oFxNcL) ? 1 : -1;\r\n    }\r\n    if (/[^\\x00-\\x80]/.test(oFxNcL + oFyNcL) && oFxNcL.localeCompare) {\r\n      const comp = oFxNcL.localeCompare(oFyNcL);\r\n      return comp / Math.abs(comp);\r\n    }\r\n    if (oFxNcL < oFyNcL) {\r\n      return -1;\r\n    } else if (oFxNcL > oFyNcL) {\r\n      return 1;\r\n    }\r\n  }\r\n}\r\n\r\nexport function redirectToAreaByWebID(webID) {\r\n  // redirect to small areas\r\n  var path = window.location.href.split('?')[0];\r\n  var reg = /\\/[/home]+$/;\r\n  if (reg.test(path)) {\r\n    path = path.substr(0, path.lastIndexOf('/'));\r\n  }\r\n  window.location.href = `${path}about?WebID=${webID}`;\r\n}\r\nexport const mergeArraysById = (a1, a2, id) =>\r\n  a1.map(itm => ({\r\n    ...a2.find(item => item[id] === itm[id] && item),\r\n    ...itm\r\n  }));\r\n\r\nexport function mapByKey(list, keyGetter) {\r\n  const map = new Map();\r\n  list.forEach(item => {\r\n    const key = keyGetter(item);\r\n    const collection = map.get(key);\r\n    if (!collection) {\r\n      map.set(key, [item]);\r\n    } else {\r\n      collection.push(item);\r\n    }\r\n  });\r\n  var mapAsc = new Map([...map].sort());\r\n  return mapAsc;\r\n}\r\n\r\nexport const pathParts = (path: string) => {\r\n  const REGEX = /^\\/?(?<clientAlias>[^\\/]+)\\/?(?<pageAlias>[^\\/]+)?\\/?/;\r\n  return path.match(REGEX).groups;\r\n};\r\n\r\n// export const IsGatsbyPage = path =>\r\n//   GatsbyPages.includes(pathParts(path).pageAlias)\r\n\r\nexport const formatNumber = number => numeral(number).format('0,0');\r\nexport const formatPercent = (number, zero = '0') =>\r\n  number ? numeral(number).format('0,0.0') : zero;\r\nexport const formatChangeNumber = (number, zero = '0') =>\r\n  number ? numeral(number).format('+0,0') : zero;\r\nexport const formatChangePercent = (number, zero = '0') =>\r\n  number ? numeral(number).format('+0,0.00') : zero;\r\nexport const formatShortDecimal = (number, zero = '0') =>\r\n  number ? numeral(number).format('0.0') : zero;\r\n"]},"metadata":{},"sourceType":"module"}