{"ast":null,"code":"import knex from 'knex';\nconst DEFAULT_DATABASE_HOST = '192.168.16.15';\nconst DEFAULT_DATABASE_USER = 'CommUser';\nconst DEFAULT_DATABASE_PASS = 'idCommUser&1admin';\nconst DEFAULT_DATABASE_NAME = 'CommClient';\nconst DATA_DATABASE_NAME = 'CommData_Economy';\nconst COMMAPP_DATABASE_NAME = 'CommApp';\n\nconst CommDataEconomyDBConnection = () => ({\n  client: 'mssql',\n  connection: {\n    host: DEFAULT_DATABASE_HOST,\n    user: DEFAULT_DATABASE_USER,\n    password: DEFAULT_DATABASE_PASS,\n    database: DEFAULT_DATABASE_NAME,\n    requestTimeout: 0,\n    options: {\n      encrypt: false\n    }\n  },\n  acquireConnectionTimeout: 600000\n});\n\nconst CommClientDBConnection = () => ({\n  client: 'mssql',\n  connection: {\n    host: DEFAULT_DATABASE_HOST,\n    user: DEFAULT_DATABASE_USER,\n    password: DEFAULT_DATABASE_PASS,\n    database: DEFAULT_DATABASE_NAME,\n    options: {\n      encrypt: false\n    }\n  }\n});\n\nconst getScopedEnvVar = (scope, db_env_var) => process.env[`${scope}_${db_env_var}`] || process.env[`DEFAULT_${db_env_var}`];\n\nexport const commDataEconomy = knex(CommDataEconomyDBConnection());\nexport const commClient = knex(CommClientDBConnection());","map":{"version":3,"sources":["C:\\Users\\fabrice\\Documents\\Workspace\\EcoNext\\server\\dbConnection.ts"],"names":["knex","DEFAULT_DATABASE_HOST","DEFAULT_DATABASE_USER","DEFAULT_DATABASE_PASS","DEFAULT_DATABASE_NAME","DATA_DATABASE_NAME","COMMAPP_DATABASE_NAME","CommDataEconomyDBConnection","client","connection","host","user","password","database","requestTimeout","options","encrypt","acquireConnectionTimeout","CommClientDBConnection","getScopedEnvVar","scope","db_env_var","process","env","commDataEconomy","commClient"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AAEA,MAAMC,qBAAqB,GAAG,eAA9B;AACA,MAAMC,qBAAqB,GAAG,UAA9B;AACA,MAAMC,qBAAqB,GAAG,mBAA9B;AACA,MAAMC,qBAAqB,GAAG,YAA9B;AACA,MAAMC,kBAAkB,GAAG,kBAA3B;AACA,MAAMC,qBAAqB,GAAG,SAA9B;;AAEA,MAAMC,2BAA2B,GAAG,OAAO;AACzCC,EAAAA,MAAM,EAAE,OADiC;AAEzCC,EAAAA,UAAU,EAAE;AACVC,IAAAA,IAAI,EAAET,qBADI;AAEVU,IAAAA,IAAI,EAAET,qBAFI;AAGVU,IAAAA,QAAQ,EAAET,qBAHA;AAIVU,IAAAA,QAAQ,EAAET,qBAJA;AAKVU,IAAAA,cAAc,EAAE,CALN;AAMVC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX;AANC,GAF6B;AAUzCC,EAAAA,wBAAwB,EAAE;AAVe,CAAP,CAApC;;AAaA,MAAMC,sBAAsB,GAAG,OAAO;AACpCV,EAAAA,MAAM,EAAE,OAD4B;AAEpCC,EAAAA,UAAU,EAAE;AACVC,IAAAA,IAAI,EAAET,qBADI;AAEVU,IAAAA,IAAI,EAAET,qBAFI;AAGVU,IAAAA,QAAQ,EAAET,qBAHA;AAIVU,IAAAA,QAAQ,EAAET,qBAJA;AAKVW,IAAAA,OAAO,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX;AALC;AAFwB,CAAP,CAA/B;;AAWA,MAAMG,eAAe,GAAG,CAACC,KAAD,EAAQC,UAAR,KACtBC,OAAO,CAACC,GAAR,CAAa,GAAEH,KAAM,IAAGC,UAAW,EAAnC,KAAyCC,OAAO,CAACC,GAAR,CAAa,WAAUF,UAAW,EAAlC,CAD3C;;AAGA,OAAO,MAAMG,eAAe,GAAGxB,IAAI,CAACO,2BAA2B,EAA5B,CAA5B;AACP,OAAO,MAAMkB,UAAU,GAAGzB,IAAI,CAACkB,sBAAsB,EAAvB,CAAvB","sourcesContent":["import knex from 'knex';\r\n\r\nconst DEFAULT_DATABASE_HOST = '192.168.16.15';\r\nconst DEFAULT_DATABASE_USER = 'CommUser';\r\nconst DEFAULT_DATABASE_PASS = 'idCommUser&1admin';\r\nconst DEFAULT_DATABASE_NAME = 'CommClient';\r\nconst DATA_DATABASE_NAME = 'CommData_Economy';\r\nconst COMMAPP_DATABASE_NAME = 'CommApp';\r\n\r\nconst CommDataEconomyDBConnection = () => ({\r\n  client: 'mssql',\r\n  connection: {\r\n    host: DEFAULT_DATABASE_HOST,\r\n    user: DEFAULT_DATABASE_USER,\r\n    password: DEFAULT_DATABASE_PASS,\r\n    database: DEFAULT_DATABASE_NAME,\r\n    requestTimeout: 0,\r\n    options: { encrypt: false }\r\n  },\r\n  acquireConnectionTimeout: 600000\r\n});\r\n\r\nconst CommClientDBConnection = () => ({\r\n  client: 'mssql',\r\n  connection: {\r\n    host: DEFAULT_DATABASE_HOST,\r\n    user: DEFAULT_DATABASE_USER,\r\n    password: DEFAULT_DATABASE_PASS,\r\n    database: DEFAULT_DATABASE_NAME,\r\n    options: { encrypt: false }\r\n  }\r\n});\r\n\r\nconst getScopedEnvVar = (scope, db_env_var) =>\r\n  process.env[`${scope}_${db_env_var}`] || process.env[`DEFAULT_${db_env_var}`];\r\n\r\nexport const commDataEconomy = knex(CommDataEconomyDBConnection());\r\nexport const commClient = knex(CommClientDBConnection());\r\n"]},"metadata":{},"sourceType":"module"}